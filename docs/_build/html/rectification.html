
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <title>rectification module &#8212; Direct Stereo Rectification 1.0 documentation</title>
    <link rel="stylesheet" href="_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/language_data.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <div class="section" id="module-rectification">
<span id="rectification-module"></span><h1>rectification module<a class="headerlink" href="#module-rectification" title="Permalink to this headline">¶</a></h1>
<p>Direct Stereo Rectification Minimizing Perspective Distortion.</p>
<p>Copyright (C) 2020  Pasquale Lafiosca and Marta Ceccaroni</p>
<p>This program is free software: you can redistribute it and/or modify
it under the terms of the GNU General Public License as published by
the Free Software Foundation, either version 3 of the License, or
(at your option) any later version.</p>
<p>This program is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.
See the GNU General Public License for more details.</p>
<p>You should have received a copy of the GNU General Public License
along with this program.  If not, see &lt;<a class="reference external" href="https://www.gnu.org/licenses/">https://www.gnu.org/licenses/</a>&gt;.</p>
<dl class="py function">
<dt id="rectification.getDirectRectifications">
<code class="sig-prename descclassname">rectification.</code><code class="sig-name descname">getDirectRectifications</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">A1</span></em>, <em class="sig-param"><span class="n">A2</span></em>, <em class="sig-param"><span class="n">RT1</span></em>, <em class="sig-param"><span class="n">RT2</span></em>, <em class="sig-param"><span class="n">dims1</span></em>, <em class="sig-param"><span class="n">dims2</span></em>, <em class="sig-param"><span class="n">F</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/rectification.html#getDirectRectifications"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#rectification.getDirectRectifications" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute the analytical rectification homographies.</p>
<p>Compute the 3x3 transformations to rectify a couple of stereo images
with minimim perspective distortion.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>A1, A2</strong> (<em>numpy.ndarray</em>) – 3x3 camera matrices of intrinsic parameters.</p></li>
<li><p><strong>RT1, RT2</strong> (<em>numpy.ndarray</em>) – 3x4 extrinsic parameters matrices.</p></li>
<li><p><strong>dims1, dims2</strong> (<em>tuple</em>) – Original images dimensions as (width, height).</p></li>
<li><p><strong>F</strong> (<em>numpy.ndarray</em>) – 3x3 fundamental matrix.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>Rectify1, Rectify2</strong> – 3x3 rectification homographies.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>numpy.ndarray</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="rectification.getFittingMatrix">
<code class="sig-prename descclassname">rectification.</code><code class="sig-name descname">getFittingMatrix</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">H1</span></em>, <em class="sig-param"><span class="n">H2</span></em>, <em class="sig-param"><span class="n">dims1</span></em>, <em class="sig-param"><span class="n">dims2</span></em>, <em class="sig-param"><span class="n">destDims</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">zoom</span><span class="o">=</span><span class="default_value">1</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/rectification.html#getFittingMatrix"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#rectification.getFittingMatrix" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute affine tranformation to fit the rectified images into desidered dimensions.</p>
<p>After rectification usually the image is no more into the original image bounds.
One can apply any transformation that do not affect disparity to fit the image into boundaries.
This function corrects flipped images too.
The algorithm may fail if one epipole is too close to the image.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>H1, H2</strong> (<em>numpy.ndarray</em>) – 3x3 rectifying homographies.</p></li>
<li><p><strong>dims1, dims2</strong> (<em>tuple</em>) – Resolution of images as (width, height) tuple.</p></li>
<li><p><strong>distCoeffs1, distCoeffs2</strong> (<em>numpy.ndarray, optional</em>) – Distortion coefficients in the order followed by OpenCV. If None is passed, zero distortion is assumed.</p></li>
<li><p><strong>destDims</strong> (<em>tuple, optional</em>) – Resolution of destination images as (width, height) tuple (default to the first image resolution).</p></li>
<li><p><strong>zoom</strong> (<em>float, optional</em>) – Zoom parameter to be applied to both images (default to 1). Used to remove unwanted portions of the images.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>3x3 affine transformation to be used both for the first and for the second camera.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>numpy.ndarray</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="rectification.getFundamentalMatrixFromProjections">
<code class="sig-prename descclassname">rectification.</code><code class="sig-name descname">getFundamentalMatrixFromProjections</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">P1</span></em>, <em class="sig-param"><span class="n">P2</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/rectification.html#getFundamentalMatrixFromProjections"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#rectification.getFundamentalMatrixFromProjections" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute the fundamental matrix from a couple of 3x4 projection matrices.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>P1,P2</strong> (<em>numpy.ndarray</em>) – 3x4 projection matrices.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The fundamental matrix.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>numpy.ndarray</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="rectification.getLoopZhangDistortionValue">
<code class="sig-prename descclassname">rectification.</code><code class="sig-name descname">getLoopZhangDistortionValue</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">Hp</span></em>, <em class="sig-param"><span class="n">dims</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/rectification.html#getLoopZhangDistortionValue"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#rectification.getLoopZhangDistortionValue" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the perspective distortion value.</p>
<p>Please refer to eq. (10) of “Computying rectifying homographies for stereo vision”, CVPR 1999, Loop C. and Zhang Z.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>Hp</strong> (<em>numpy.ndarray</em>) – 3x3 transformation.</p></li>
<li><p><strong>dims</strong> (<em>tuple</em>) – Image dimensions as (width, height).</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Perspective distortion introduced by Hp on the image.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="rectification.getMinYCoord">
<code class="sig-prename descclassname">rectification.</code><code class="sig-name descname">getMinYCoord</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">H</span></em>, <em class="sig-param"><span class="n">dims</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/rectification.html#getMinYCoord"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#rectification.getMinYCoord" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the minimum Y coordinate after a transformation H.</p>
<p>Please refer to “Computying rectifying homographies for stereo vision”, CVPR 1999, Loop C. and Zhang Z.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>H</strong> (<em>numpy.ndarray</em>) – A 3x3 transformation.</p></li>
<li><p><strong>dims</strong> (<em>tuple</em>) – Image dimensions as (width,height).</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The minimum Y coordinate after the transformation.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="rectification.getShearingTransformation">
<code class="sig-prename descclassname">rectification.</code><code class="sig-name descname">getShearingTransformation</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">H</span></em>, <em class="sig-param"><span class="n">dims</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/rectification.html#getShearingTransformation"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#rectification.getShearingTransformation" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute the optimal shearing transformation.</p>
<p>Please refer to “Computying rectifying homographies for stereo vision”, CVPR 1999, Loop C. and Zhang Z.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>H</strong> (<em>numpy.ndarray</em>) – A 3x3 transformation.</p></li>
<li><p><strong>dims</strong> (<em>tuple</em>) – Image dimensions as (width,height).</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A 3x3 X-shearing transformation.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>numpy.ndarray</p>
</dd>
</dl>
</dd></dl>

</div>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="index.html">Direct Stereo Rectification</a></h1>








<h3>Navigation</h3>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2020, Pasquale Lafiosca, Marta Ceccaroni.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 3.0.0</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="_sources/rectification.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>